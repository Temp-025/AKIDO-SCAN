/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{549:function(wa,ta,h){h.r(ta);h.d(ta,"ByteRangeRequest",function(){return w});var pa=h(0),na=h(1);h.n(na);var oa=h(3),ka=h(184);wa=h(117);var la=h(305),ha=h(93),z=h(90),y=h(304),r=h(203);h=h(470);var n=[],b=[],a=window,e=function(){return function(){this.ip=1}}(),f;(function(ea){ea[ea.UNSENT=0]="UNSENT";ea[ea.DONE=4]="DONE"})(f||(f={}));var w=function(){function ea(fa,x,ca,aa){var ma=this;this.url=fa;this.range=x;this.wg=ca;
this.withCredentials=aa;this.Tda=f;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");aa&&(this.request.withCredentials=aa);ba.DISABLE_RANGE_HEADER||(Object(na.isUndefined)(x.stop)?this.request.setRequestHeader("Range","bytes="+x.start):this.request.setRequestHeader("Range",["bytes=",x.start,"-",x.stop-1].join("")));ca&&Object.keys(ca).forEach(function(ia){ma.request.setRequestHeader(ia,ca[ia])});this.request.overrideMimeType?
this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}ea.prototype.start=function(fa){var x=this,ca=this.request;ca.onreadystatechange=function(){if(x.aborted)return x.status=y.a.ABORTED,fa({code:y.a.ABORTED});if(this.readyState===x.Tda.DONE){x.RH();var aa=0===window.document.URL.indexOf("file:///");200===ca.status||206===ca.status||aa&&0===ca.status?(aa=a.M2(this),x.OU(aa,fa)):(x.status=y.a.ERROR,
fa({code:x.status,status:x.status}))}};this.request.send(null);this.status=y.a.STARTED};ea.prototype.OU=function(fa,x){this.status=y.a.SUCCESS;if(x)return x(!1,fa)};ea.prototype.abort=function(){this.RH();this.aborted=!0;this.request.abort()};ea.prototype.RH=function(){var fa=Object(r.c)(this.url,this.range,b);-1!==fa&&b.splice(fa,1);if(0<n.length){fa=n.shift();var x=new ea(fa.url,fa.range,this.wg,this.withCredentials);fa.request=x;b.push(fa);x.start(Object(r.d)(fa))}};ea.prototype.extend=function(fa){var x=
Object.assign({},this,fa.prototype);x.constructor=fa;return x};return ea}(),ba=function(ea){function fa(x,ca,aa,ma,ia){aa=ea.call(this,x,aa,ma)||this;aa.Zk={};aa.aG=ca;aa.url=x;aa.DISABLE_RANGE_HEADER=!1;aa.EC=w;aa.eW=3;aa.wg=ia||{};return aa}Object(pa.c)(fa,ea);fa.prototype.Yz=function(x,ca,aa){var ma=-1===x.indexOf("?")?"?":"&";switch(aa){case !1:case z.a.NEVER_CACHE:x=x+ma+"_="+Object(na.uniqueId)();break;case !0:case z.a.CACHE:x=x+ma+"_="+ca.start+","+(Object(na.isUndefined)(ca.stop)?"":ca.stop)}return x};
fa.prototype.X_=function(x,ca,aa,ma){void 0===aa&&(aa={});return new this.EC(x,ca,aa,ma)};fa.prototype.xna=function(x,ca,aa,ma,ia){for(var ja=0;ja<n.length;ja++)if(Object(na.isEqual)(n[ja].range,ca)&&Object(na.isEqual)(n[ja].url,x))return n[ja].ii.push(ma),n[ja].bJ++,null;for(ja=0;ja<b.length;ja++)if(Object(na.isEqual)(b[ja].range,ca)&&Object(na.isEqual)(b[ja].url,x))return b[ja].ii.push(ma),b[ja].bJ++,null;aa={url:x,range:ca,aG:aa,ii:[ma],bJ:1};if(0===n.length&&b.length<this.eW)return b.push(aa),
aa.request=this.X_(x,ca,ia,this.withCredentials),aa;n.push(aa);return null};fa.prototype.kr=function(x,ca,aa){var ma=this.Yz(x,ca,this.aG);(x=this.xna(ma,ca,this.aG,aa,this.wg))&&x.request.start(Object(r.d)(x));return function(){var ia=Object(r.c)(ma,ca,b);if(-1!==ia){var ja=--b[ia].bJ;0===ja&&b[ia].request&&b[ia].request.abort()}else ia=Object(r.c)(ma,ca,n),-1!==ia&&(ja=--n[ia].bJ,0===ja&&n.splice(ia,1))}};fa.prototype.d2=function(){return{start:-ka.a}};fa.prototype.Zra=function(){var x=-(ka.a+ka.e);
return{start:x-ka.d,end:x}};fa.prototype.Xw=function(x){var ca=this;this.hG=!0;var aa=ka.a;this.kr(this.url,this.d2(),function(ma,ia,ja){function ra(){var qa=ca.xe.a2();ca.kr(ca.url,qa,function(sa,ua){if(sa)return Object(oa.j)("Error loading central directory: "+sa),x(sa);ua=Object(ha.a)(ua);if(ua.length!==qa.stop-qa.start)return x("Invalid XOD file: Zip central directory data is wrong size! Should be "+(qa.stop-qa.start)+" but is "+ua.length);ca.xe.t7(ua);ca.XN=!0;ca.hG=!1;return x(!1)})}if(ma)return Object(oa.j)("Error loading end header: "+
ma),x(ma,ia,ja);ia=Object(ha.a)(ia);if(ia.length!==aa)return x("Invalid XOD file: Zip end header data is wrong size!");try{ca.xe=new la.a(ia)}catch(qa){return x(qa)}ca.xe.aua?ca.kr(ca.url,ca.Zra(),function(qa,sa){if(qa)return Object(oa.j)("Error loading zip64 header: "+qa),x(qa);sa=Object(ha.a)(sa);ca.xe.Cua(sa);ra()}):ra()})};fa.prototype.H2=function(x){x(Object.keys(this.xe.Iq))};fa.prototype.SS=function(x,ca){var aa=this;if(this.xe.L_(x)){var ma=this.xe.MA(x);if(ma in this.Zk){var ia=this.Gi[x];
ia.Cv=this.Zk[ma];ia.Cv.ip++;ia.cancel=ia.Cv.cancel}else{var ja=this.xe.Tpa(x),ra=this.kr(this.url,ja,function(sa,ua){sa?(Object(oa.j)('Error loading part "'+x+'": '+sa),aa.kr(aa.url,ja,function(xa,Ga){if(xa)return ca(xa,x);aa.x7(Ga,ja,ma,x,ca)})):aa.x7(ua,ja,ma,x,ca)}),qa=this.Gi[x];qa&&(qa.h$=!0,qa.cancel=function(){qa.Cv.ip--;0===qa.Cv.ip&&(ra(),delete aa.Zk[ma])},this.Zk[ma]=new e(ma),qa.Cv=this.Zk[ma],qa.Cv.cancel=qa.cancel)}}else delete this.Gi[x],ca(Error('File not found: "'+x+'"'),x)};fa.prototype.x7=
function(x,ca,aa,ma,ia){if(x.length!==ca.stop-ca.start)ia(Error("Part data is wrong size!"),ma);else{do{if(!this.Zk[aa])return;ma=this.Zk[aa].ip;for(var ja=ca.du.length,ra=0;ra<ja;++ra){var qa=ca.du[ra];ia(!1,qa.$t,x["string"===typeof x?"substring":"subarray"](qa.start,qa.stop),this.xe.d4(qa.$t));qa.$t in this.Gi&&delete this.Gi[qa.$t]}}while(ma!==this.Zk[aa].ip);delete this.Zk[aa]}};fa.DISABLE_RANGE_HEADER=!1;fa.eW=3;return fa}(wa.a);(function(ea){function fa(x,ca,aa){var ma=ea.call(this)||this,
ia;for(ia in x)ma[ia]=x[ia];ma.UIa=x;ma.startOffset=ca;ma.endOffset=aa;ma.X_=function(ja,ra,qa,sa){Object(na.isUndefined)(ra.stop)?(ra.start+=ma.endOffset,ra.stop=ma.endOffset):(ra.start+=ma.startOffset,ra.stop+=ma.startOffset);ja=ma.Yz(ma.url,ra,ma.aG);return new x.EC(ja,ra,qa,sa)};return ma}Object(pa.c)(fa,ea);return fa})(ba);Object(h.a)(ba);Object(h.b)(ba);ta["default"]=ba}}]);}).call(this || window)
